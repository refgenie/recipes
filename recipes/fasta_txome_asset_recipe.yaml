name: fasta_txome
version: 0.0.1
output_asset_class: fasta
description:
  cDNA sequences in the FASTA format, indexed FASTA (produced with samtools
  index) and chromosome sizes file
input_files:
  fasta:
    description: gzipped fasta file
input_params: {}
input_assets: {}
docker_image: databio/refgenie
command_templates:
  - cp {{values.files["fasta"]}} {{values.output_folder}}/{{values.genome_digest}}.fa.gz
  - gzip -df {{values.output_folder}}/{{values.genome_digest}}.fa.gz
  - samtools faidx {{values.output_folder}}/{{values.genome_digest}}.fa
  - cut -f 1,2 {{values.output_folder}}/{{values.genome_digest}}.fa.fai > {{values.output_folder}}/{{values.genome_digest}}.chrom.sizes
custom_properties:
  version: "samtools --version-only"
default_tag: "{{values.custom_properties.version}}"
