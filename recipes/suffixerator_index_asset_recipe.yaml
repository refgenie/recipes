name: suffixerator_index
version: 0.0.1
output_asset_class: suffixerator_index
description:
  Enhanced suffix array index for genomes using gt (GenomeTools) suffixerator
  program
input_files: {}
input_params:
  memlimit:
    default: 8GB
    description: The maximum amount of memory available to be used during index
      construction.
input_assets:
  fasta:
    asset_class: fasta
    default: fasta
    description: fasta asset for genome
docker image: databio/refgenie
command_templates:
  - gt suffixerator -dna -pl -tis -suf -lcp -v -showprogress -memlimit {{values.params["memlimit"]}} -db {{values.assets["fasta"].seek_keys_dict["fasta"]}} -indexname {{values.output_folder}}/{{values.genome_digest}}.sft
custom_properties:
  version: "gt suffixerator --version | awk 'NR==1{print $4}'"
default_tag: "{{values.custom_properties.version}}"
